var EMIInterestType={ReducingInterest:0,FlatInterest:1};function EmiCalculator(t,e){this.onRoadPrice=t,this.bindingElement=e,this.dynamicEmiProp=null,this.toolTip={isDynamic:!1,downPaymentSelector:null,tenureSelector:null,interestSelector:null},this.EMIConfiguration={minDownPaymentPercent:5,maxDownPaymentPercent:90,defaultDownPaymentPercent:20,minTenure:12,maxTenure:48,defaultTenure:30,minInterest:10,maxInterest:15,defaultInterest:11,breakPoints:5,processingFees:0},this.EMIConfiguration.defaultLoanPercent=100-this.EMIConfiguration.defaultDownPaymentPercent,this.EMIConfiguration.interestType="undefined"!=typeof emiThreshold&&this.onRoadPrice>=emiThreshold?EMIInterestType.ReducingInterest:EMIInterestType.FlatInterest}function KOEmiCalculator(t,e,i){EmiCalculator.call(this,t,e),this.onRoadPrice=ko.observable(t),this.breakPoints=ko.observable(this.EMIConfiguration.breakPoints),this.minTenure=ko.observable(this.EMIConfiguration.minTenure),this.maxTenure=ko.observable(this.EMIConfiguration.maxTenure),this.minROI=ko.observable(this.EMIConfiguration.minInterest),this.maxROI=ko.observable(this.EMIConfiguration.maxInterest),this.diffPriceCityName=ko.observable("undefined"!=typeof displayPriceCityName?displayPriceCityName:""),this.showDiffCityPriceDisclaimer=ko.observable("undefined"!=typeof isOtherCityPriceAvailable&&isOtherCityPriceAvailable),this.locationCityName=ko.observable("undefined"!=typeof cityName?cityName:""),this.isCampaignAvailable=ko.observable(!1),this.processingFees=ko.observable(this.EMIConfiguration.processingFees),this.loan=ko.observable(),this.tenure=ko.observable((this.maxTenure()-this.minTenure())/2+this.minTenure()),this.rateofinterest=ko.observable(this.EMIConfiguration.defaultInterest),this.minDnPay=ko.pureComputed({read:function(){return this.EMIConfiguration.minDownPaymentPercent*this.onRoadPrice()/100},owner:this}),this.maxDnPay=ko.pureComputed({read:function(){return this.EMIConfiguration.maxDownPaymentPercent*this.onRoadPrice()/100},owner:this}),this.downPayment=ko.pureComputed({read:function(){return(null==this.loan()||isNaN(this.loan())||null==this.loan())&&this.loan(this._findPercentageValue(this.onRoadPrice(),this.EMIConfiguration.defaultLoanPercent)),this.onRoadPrice()-this.loan()},write:function(t){this.loan(this.onRoadPrice()-t)},owner:this}),this.monthlyEMI=ko.pureComputed({read:function(){var t=this._calculateEmi(this.loan(),this.tenure(),this.rateofinterest(),this.EMIConfiguration.interestType);return this._bindDynamicEmiProp(t),this.toolTip.isDynamic&&this._bindToolTipContentDynamic(this.downPayment(),this.tenure(),this.rateofinterest()),t},owner:this}),this.totalPayable=ko.pureComputed({read:function(){return this.downPayment()+this.monthlyEMI()*this.tenure()+this.processingFees()},owner:this}),this.totalInterestPayable=ko.pureComputed({read:function(){return this.totalPayable()-this.onRoadPrice()},owner:this})}EmiCalculator.prototype._findPercentageValue=function(t,e){try{return Math.round(t*e/100)}catch(t){console.error(t)}return 0},EmiCalculator.prototype._calculateEmi=function(t,e,i,n){try{return n==EMIInterestType.ReducingInterest?Math.round(t*i/1200/(1-Math.pow(1+i/1200,-1*e))):Math.round(t*(1+i*e/1200)/e)}catch(t){console.error(t)}return 0},EmiCalculator.prototype._bindDynamicEmiProp=function(t){null!=this.dynamicEmiProp&&null!=t&&(this.dynamicEmiProp.innerHTML=formatPrice(t))},EmiCalculator.prototype._bindToolTipContentDynamic=function(t,e,i){null!==this.toolTip.downPaymentSelector&&null!==this.toolTip.tenureSelector&&null!==this.toolTip.interestSelector&&(this.toolTip.downPaymentSelector.innerHTML=formatPrice(Math.round(t)),this.toolTip.tenureSelector.innerHTML=e,this.toolTip.interestSelector.innerHTML=i)},EmiCalculator.prototype.applyBindings=function(){},EmiCalculator.prototype.handleVersionChange=function(t,e){},EmiCalculator.prototype.bindMonthlyEmiValue=function(t,e){if(null==t)return this;var i=this.EMIConfiguration,n=(this.onRoadPrice(),this.onRoadPrice()),o=this._calculateEmi(i.defaultLoanPercent*n/100,i.defaultTenure,i.defaultInterest,i.interestType);return e?(this.dynamicEmiProp=t,this._bindDynamicEmiProp(o)):t.innerHTML=formatPrice(o),this},KOEmiCalculator.prototype=Object.create(EmiCalculator.prototype),KOEmiCalculator.prototype.constructor=KOEmiCalculator,KOEmiCalculator.prototype.applyBindings=function(){return null==this.bindingElement||null==this.bindingElement?this:(ko.applyBindings(this,this.bindingElement),this)},KOEmiCalculator.prototype.handleVersionChange=function(t,e){e||this.loan(this._findPercentageValue(this.onRoadPrice(t),this.EMIConfiguration.defaultLoanPercent))},KOEmiCalculator.prototype.bindToolTip=function(t,e,i,n){return void 0===t||void 0===e||void 0===i?this:(this.toolTip.isDynamic=n,this.toolTip.downPaymentSelector=t,this.toolTip.tenureSelector=e,this.toolTip.interestSelector=i,this._bindToolTipContentDynamic(this.downPayment(),this.tenure(),this.rateofinterest()),this)},$.createSliderPoints=function(t,e,i,n,o){var r="";try{switch(o){case 1:r=$.valueFormatter(Math.round(e+t*(i-e)/n));break;case 2:r=Math.round(e+t*(i-e)/n);break;default:r=(e+t*(i-e)/n).toFixed(2)}}catch(t){}return r},$.valueFormatter=function(t){if(isNaN(t)){if(t>=1e5)return(t/1e5).toFixed(1).replace(/\.0$/,"")+"L";if(t>=1e3)return(t/1e3).toFixed(1).replace(/\.0$/,"")+"K"}return t},ko.bindingHandlers.slider={init:function(t,e,i,n){var o=i().sliderOptions||{};$("#"+t.id).slider(o),ko.utils.registerEventHandler("#"+t.id,"slide",(function(i,n){try{var o=$("#"+t.id);void 0!==o.attr("data-lab")?triggerGA(o.attr("data-cat"),o.attr("data-act"),o.attr("data-lab")):void 0!==o.attr("data-var")&&triggerGA(o.attr("data-cat"),o.attr("data-act"),window[o.attr("data-var")])}catch(t){}e()(n.value)}))},update:function(t,e,i,n){var o=i().sliderOptions||{};$("#"+t.id).slider(o);var r=ko.utils.unwrapObservable(e());isNaN(r)&&(r=0),$("#"+t.id).slider("value",r)}};