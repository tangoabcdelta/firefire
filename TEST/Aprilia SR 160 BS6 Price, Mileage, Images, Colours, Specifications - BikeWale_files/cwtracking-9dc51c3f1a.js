var cwTracking={hostPath:location.host,isMobileSite:function(){return document.location.href.indexOf("/m/")>0},type:{impression:"imp",click:"click"},getSource:function(){var n=document.referrer;return 0==n.length?"src=direct":n.indexOf(cwTracking.hostPath)<0?"src="+n:""},getPageUrl:function(){var n=document.location.href;return n.indexOf("?")>0?"pi="+n.split("?")[0]:n.indexOf("#")>0?"pi="+n.split("#")[0]:"pi="+n},getQSFromUrl:function(){var n=document.location.href,i="";return n.indexOf("?")>0?i=n.split("?")[1]:n.indexOf("#")>0&&(i=n.split("#")[1]),i.length>0?"qs="+(i=i.replace(/&+/g,"|")):""},getReferrer:function(){var n=document.referrer,i=location.host;if(n.length>0&&n.indexOf(i)>=0){var e=n.split(cwTracking.hostPath)[1];return"ref="+(null==e||null==e?"":e.replace(/&+/g,"|"))}return""},addToQS:function(n,i){return n.length>0?n+="&"+i:n=i,n},getAttributeValue:function(n){switch(n){case"imp":return"cwti";case"click":return"cwtc";default:return"cwcti"}},getCompleteQS:function(n,i){var e,c,t,r=cwTracking.getAttributeValue(i),a=!1;return n.is("[qs]")&&(a=!0),e=n.data(r+"cat"),c=n.data(r+"lbl"),t=n.data(r+"act"),cwTracking.getFinalQS(e,t,c,a)},getFinalQS:function(n,i,e,c){var t,r,a,o,l="";return t=cwTracking.getSource(),r=cwTracking.getPageUrl(),o=cwTracking.getReferrer(),null!=n&&n.length>0&&(l=cwTracking.addToQS(l,"cat="+n)),null!=i&&i.length>0&&(l=cwTracking.addToQS(l,"act="+i)),null!=e&&e.length>0&&(l=cwTracking.addToQS(l,"lbl="+e)),null!=t&&t.length>0&&(l=cwTracking.addToQS(l,t)),null!=r&&r.length>0&&(l=cwTracking.addToQS(l,r)),null!=o&&o.length>0&&(l=cwTracking.addToQS(l,o)),c&&null!=(a=cwTracking.getQSFromUrl())&&a.length>0&&(l=cwTracking.addToQS(l,a)),l},trackCustomData:function(n,i,e,c){e=e.replace("&","and");var t=cwTracking.getFinalQS(n,i,e,c);cwTracking.sendRequest(t)},trackDataFromNode:function(n,i){var e=cwTracking.getCompleteQS(n,i);cwTracking.sendRequest(e)},sendRequest:function(n){n.length>0&&(n="&"+n),(new Image).src=cwTracking.getHandlerUrl()+$.now()+n},getHandlerUrl:function(){return"/bhrigu/pixel.gif?t="},trackImpression:function(){$("[cwt]").unbind("inview"),$("[cwt]").bind("inview",(function(n,i){if(1==i)cwTracking.trackDataFromNode($(this),cwTracking.type.impression);else{var e=$(this);e.unbind("inview"),e.removeAttr("cwt")}}))},trackInviewJcarouselImpression:function(){$(".jcarousel").on("jcarousel:visiblein","li",(function(){var n=$(this).find("[data-role*='inview-imp']");n.length>0&&cwTracking.callImpressionTracking(n)}))},trackInviewImpression:function(){$("[data-role*='inview-imp']").unbind("inview"),$("[data-role*='inview-imp']").bind("inview",(function(n,i){var e=$(this);1==e.closest(".jcarousel").length&&1==i?e.closest(".jcarousel").jcarousel("visible").has(this).length>0&&cwTracking.callImpressionTracking(e):1==i&&cwTracking.callImpressionTracking(e)}))},trackPerformace:function(){var n,i=0,e="",c="";if(null!=window.performance&&null!=window.performance.timing){for(var t in n=JSON.stringify(window.performance.timing),n=$.parseJSON(n))c+=t+"="+n[t]+"|";(i=c.length)>0&&(c=c.substr(0,i-1)),e=cwTracking.isMobileSite()?"Msite":"DesktopSite",cwTracking.trackCustomData("BWPerformance",e,c,!1)}},trackInviewGA:function(n){var i,e,c;i=n.data("cat"),e=n.data("label"),c=n.data("action"),n.data("role").indexOf("click")>=0&&-1===c.indexOf("shown")&&(c+="_shown"),Common.utils.trackAction("CWNonInteractive",i,c,e)},uiEvents:function(){var n="undefined"==typeof bwTrackingCat||null===bwTrackingCat?"BWPageViews":bwTrackingCat,i="undefined"==typeof bwTrackingAct||null===bwTrackingAct?"":bwTrackingAct,e="undefined"==typeof bwTrackingLab||null===bwTrackingLab?"NA":bwTrackingLab;cwTracking.trackCustomData(n,i,e,!0),$(document).on("click","[data-cwtccat]",(function(){cwTracking.trackDataFromNode($(this),cwTracking.type.click)})),cwTracking.trackImpression(),cwTracking.trackInviewImpression(),cwTracking.trackInviewJcarouselImpression(),$(document).ajaxComplete((function(){cwTracking.trackImpression(),cwTracking.trackInviewImpression()}))},prepareLabel:function(n){var i="";if(n&&"object"==typeof n)for(var e in n)i=i+e+"="+n[e]+"|";return i.substring(0,i.length-1)},callImpressionTracking:function(n){var i=n.data("role");return i.indexOf("inview-imp")>=0&&(n.unbind("inview"),n.data("role",i.replace("inview-imp","")),cwTracking.trackInviewGA(n),!0)},trackUserReview:function(n,i){cwTracking.trackCustomData("BWUserReviews",n,i,!1)},trackImagesInteraction:function(n,i,e){cwTracking.trackCustomData(n,i,e,!1)}};$(window).load((function(){setTimeout((function(){cwTracking.trackPerformace()}),100)})),$(document).ready((function(){cwTracking.uiEvents()}));