var assistFormSubmit,assistGetName,assistGetEmail,assistGetMobile,getOnRoadPriceBtn,onroadPriceConfirmBtn,selectDropdownBox,$window,modelDetailsFloatingCard,modelSpecsTabsContentWrapper,abusereviewId,userreviewsListStr,vmUserReviews,isMileageSectionVisible,colourCarousel,carouselColorList,overallTabsWrapper,overallTabs,overallSpecsDetailsFooter,topNavBar,getOffersClick=!1,floatingTabsHeight=45;function getBikeVersionLocation(){var e=getBikeVersion(),t=getCityArea;return null!=t?""!=t&&(t="_"+t):t="",myBikeName+"_"+e+t}function getBikeVersion(){return $("#ddlVersion").length>0?$("#ddlVersion option:selected").text():$("#singleversion").html()}function secondarydealer_Click(e){try{var t={dealerId:e,modelId:bikeModelId,versionId:versionId,cityId:cityId,areaId:areaId,clientIP:clientIP,pageUrl:pageUrl,sourceType:1,pQLeadId:pqSourceId,deviceId:getCookie("BWC"),refPQId:"undefined"!=typeof pqId?pqId:""};if(leadVM.registerPQ(t)){var a="CityId="+cityId+"&AreaId="+areaId+"&PQId="+leadVM.pqGUId()+"&VersionId="+versionId+"&DealerId="+e;window.location.href="/pricequote/dealer/?MPQ="+Base64.encode(a)}}catch(e){console.warn("Unable to create pricequote : "+e.message)}}function openLeadCaptureForm(e){triggerGA("Dealer_PQ","Secondary_Dealer_Get_Offers_Clicked",bikeVersionLocation),event.stopPropagation()}function logBhrighuForImage(e,t,a){if(e){var i="";t&&(i+="|category="+t),a&&(i+="|type="+a),label="modelid="+bikeModelId+"|imageid="+e+i+"|pageid="+(gaObj?gaObj.id:0),cwTracking.trackImagesInteraction("BWImages","ImageViewed",label)}}function bindInsuranceText(){if(icityArea=GetGlobalCityArea(),viewModel.isDealerPQAvailable()){if(viewModel.isDealerPQAvailable()&&!(viewModel.priceQuote().isInsuranceFree&&viewModel.priceQuote().insuranceAmount>0)){$("table#model-view-breakup tr td:contains('Insurance')").first().find("div.insurance-breakup-text").remove()}}else $("#bw-insurance-text").find("div.insurance-breakup-text").remove()}function applyLazyLoad(){$("img.lazy").lazyload({event:"imgLazyLoad",effect:"fadeIn"})}function animatePrice(e,t,a){$({someValue:t}).stop(!0).animate({someValue:a},{duration:500,easing:"easeInOutBounce",step:function(){$(e).text(formatPrice(Math.round(this.someValue)))}}).promise().done((function(){$(e).text(formatPrice(a))}))}function LoadTerms(e){$("div#termsPopUpContainer").show(),$(".blackOut-window").show(),0!=e&&null!=e?($(".termsPopUpContainer").css("height","150"),$("#termspinner").show(),$("#terms").empty(),$.ajax({type:"GET",url:"/api/Terms/?offerId="+e,dataType:"json",success:function(e){$("#termspinner").hide(),null!=e&&$("#terms").html(e)},error:function(e,t,a){$("div#termsPopUpContainer").hide(),$(".blackOut-window").hide()}})):$("#terms").load("/UI/statichtml/tnc.html"),$(".termsPopUpContainer").css("height","500")}function BindViewAllFeaturesBtnClickEvent(){$(".view-features-link").on("click",(function(){var e=$(this),t=$("#model-features-content"),a=$("#model-more-features-list");e.hasClass("active")?(e.removeClass("active"),$("html, body").animate({scrollTop:t.offset().top-floatingTabsHeight},500),a.slideUp(),e.text("View all features")):(e.addClass("active"),$("html, body").animate({scrollTop:t.offset().top-floatingTabsHeight},500),a.slideDown(),e.text("Collapse"))}))}function BindAccordianTabsInSpecsFeatures(){$("#model-specs-list").on("click",".model-accordion-tab",(function(){var e=$(this),t=$("#model-specs-list .model-accordion-tab");e.hasClass("active")?e.removeClass("active"):(t.removeClass("active"),e.addClass("active"),$("html, body").animate({scrollTop:e.offset().top-floatingTabsHeight},500))}))}function upVoteListReview(e){var t=e.currentTarget.getAttribute("data-reviewid");bwcache.set("ReviewDetailPage_reviewVote_"+t,{vote:"1"}),$("#upvoteBtn-"+t).addClass("active"),$("#downvoteBtn-"+t).attr("disabled","disabled"),$("#upvoteCount-"+t).text(parseInt($("#upvoteCount-"+t).text())+1),voteListUserReview(1,t)}function downVoteListReview(e){var t=e.currentTarget.getAttribute("data-reviewid");bwcache.set("ReviewDetailPage_reviewVote_"+t,{vote:"0"}),$("#downvoteBtn-"+t).addClass("active"),$("#upvoteBtn-"+t).attr("disabled","disabled"),$("#downvoteCount-"+t).text(parseInt($("#downvoteCount-"+t).text())+1),voteListUserReview(0,t)}function voteListUserReview(e,t){$.ajax({type:"POST",url:"/api/user-reviews/voteUserReview/?reviewId="+t+"&vote="+e,success:function(e){}})}function applyLikeDislikes(){$(".feedback-button").each((function(){var e=this.getAttribute("data-reviewid"),t=bwcache.get("ReviewDetailPage_reviewVote_"+e);null!=t&&t.vote?"0"==t.vote?($("#downvoteBtn-"+e).addClass("active"),$("#upvoteBtn-"+e).attr("disabled","disabled")):($("#upvoteBtn-"+e).addClass("active"),$("#downvoteBtn-"+e).attr("disabled","disabled")):($("#upvoteBtn-"+e).removeClass("active"),$("#downvoteBtn-"+e).prop("disabled",!1))}))}function reportReview(e){abusereviewId=e.currentTarget.getAttribute("data-reviewid"),reportAbusePopup.open()}function reportAbuse(){var e,t=!1;if(""==$("#txtAbuseComments").val().trim()?($("#spnAbuseComments").html("Comments are required"),t=!0):$("#spnAbuseComments").html(""),abusereviewId>0&&!t&&(e=abusereviewId,document.getElementById("pReport-"+e).innerHTML="Your request has been sent to the administrator."),!t){var a=$("#txtAbuseComments").val().trim();$.ajax({type:"POST",url:"/api/user-reviews/abuseUserReview/?reviewId="+e+"&comments="+a,success:function(e){reportAbusePopup.close()}})}}docReady((function(){function e(e){return e||"null"}function t(e){switch(typeof e){case"number":return e>0?"Present":"Absent";case"string":return"true"==e.toLowerCase()?"Present":"Absent";case"boolean":return e?"Present":"Absent"}}if(void 0===window.canRunAds&&($("#adBlocker").show(),$(".sponsored-card").hide()),(isMileageSectionVisible=$("#mileageContent")).length>0&&triggerNonInteractiveGA("Model_Page","Mileage_Card_Shown",myBikeName),"true"==isBikeNew.toLowerCase()){var a=GetGlobalLocationObject(),i="User_City "+t(parseInt(cityId))+"_Area "+t(parseInt(areaId))+"_Campaign_City Level "+t(isCityLevelCampaignPresent)+"_Area Level "+t(isAreaLevelCampaignPresent),o=myBikeName+"_"+e(a.CityName)+"_"+e(a.AreaName)+"_"+shownCampaignType+" Campaign Shown";triggerNonInteractiveGA("Model_Page",i,o)}$("#viewDealerOffers").on("click",(function(){var e=$("#dealerDetailsWrapper").offset().top-$("#overallSpecsTab").height();$("html, body").animate({scrollTop:e},1e3)})),colourCarousel=$("#colourCarousel");var n=(carouselColorList=$("#model-color-list")).find("li"),r=($("#canonical").val(),$("#imageUrl").val());if(carouselColorList.on("click","li",(function(){let e=$(this);var t=e.data("colorid"),a=e.data("colormaskingname");if(t&&!isNaN(t)&&"0"!=t&&a){var i=e.attr("data-original"),o=e.attr("data-imgcat"),s=e.attr("data-imgtype"),l=e.attr("data-imgid");""==i&&(i="https://imgd.aeplcdn.com/393x221/bikewaleimg/images/noimage.png?q=85"),$("#colourCarousel a img").attr("src",i),$("#colourCarousel a").attr("href",r+a+"/")}l&&logBhrighuForImage(l,o,s),n.removeClass("active"),n.eq([e.index()]).addClass("active")})),$("span.carousel-img-container").click((function(){a.href=$(this).attr("href")})),getCityArea=GetGlobalCityArea(),$(".leadcapturebtn").click((function(e){var t=$(this),a={dealerid:t.attr("data-item-id"),dealername:t.attr("data-item-name"),dealerarea:t.attr("data-item-area"),versionid:null!=t.attr("data-versionid")?t.attr("data-versionid"):versionId,leadsourceid:t.attr("data-leadsourceid"),pqsourceid:t.attr("data-pqsourceid"),isleadpopup:t.attr("data-isleadpopup"),mfgCampid:t.attr("data-mfgcampid"),pqid:0,pqguid:pqId,pageurl:pageUrl,clientip:clientIP,dealerHeading:t.attr("data-item-heading"),dealerMessage:t.attr("data-item-message"),dealerDescription:t.attr("data-item-description"),pinCodeRequired:t.attr("data-ispincodrequired"),isOtpRequired:t.attr("data-isotprequired")||!1,dealersRequired:t.attr("data-dealersrequired"),emailRequired:t.attr("data-isemailrequired"),eventcategory:t.attr("data-cat"),gaobject:{cat:t.attr("data-cat"),act:t.attr("data-act"),lab:bikeVersionLocation},sendLeadSMSCustomer:t.attr("data-issendleadsmscustomer"),organizationName:t.attr("data-item-organization"),campaignId:t.attr("data-campaignid")};gaLabel=getBikeVersionLocation(),leadVM.setOptions(a)})),$(".chosen-select").on("change",(function(){var e=$(this);e.val()>0&&e.closest(".select-box").addClass("done")})),$("#getEmailID").on("focus",(function(){$("#assistGetEmail").parent().addClass("not-empty")})),$("#getFullName").on("focus",(function(){$("#assistGetName").parent().addClass("not-empty")})),$("#getMobile").on("focus",(function(){$("#assistGetMobile").parent().addClass("not-empty")})),$("#getEmailID").on("blur",(function(){""==$("#assistGetEmail").val()&&$("#assistGetEmail").parent().removeClass("not-empty")})),$("#getFullName").on("blur",(function(){""==$("#assistGetName").val()&&$("#assistGetName").parent().removeClass("not-empty")})),$("#getMobile").on("blur",(function(){""==$("#assistGetMobile").val()&&$("#assistGetMobile").parent().removeClass("not-empty")})),$(".dealership-benefit-list li").length<=2&&$(".dealership-benefit-list").addClass("dealer-two-offers"),""==bikeVersionLocation&&(bikeVersionLocation=getBikeVersionLocation(),$("#getOffersPrimary").length>0&&$("#getOffersPrimary").attr("v",bikeVersionLocation)),""==bikeVersion&&(bikeVersion=getBikeVersion()),vmUserReviews=new modelUserReviews,photosCount>0){var s="Image"+(photosCount>1?"s":""),l='<span class="black-overlay text-white"><span class="font18 text-bold">+'+photosCount+'</span><br><span class="font16">'+s+"</span></span>";$(".carousel-stage li:last-child .extraImageOverlay").append(l),l='<span class="black-overlay text-white padding-top5"><span class="font12 text-bold">+'+photosCount+'</span><br><span class="font12">'+s+"</span></span>",$(".carousel-navigation li:last-child .extraImageOverlay").append(l)}new ReadMoreCollapse(".js-video-description-container",{onExpandClick:function(e,t){t.preventDefault()},concatData:!1,ellipsis:!1,collapseText:""})})),docReady((function(){assistFormSubmit=$("#assistFormSubmit"),assistGetName=$("#assistGetName"),assistGetEmail=$("#assistGetEmail"),assistGetMobile=$("#assistGetMobile"),getOnRoadPriceBtn=$("#getOnRoadPriceBtn"),onroadPriceConfirmBtn=$("#onroadPriceConfirmBtn"),function(e){e((function(){var t=e(".carousel-stage").jcarousel(),a=e(".carousel-navigation").jcarousel(),i=-1;a.jcarousel("items").each((function(){var o=e(this),n=function(e,t){return t.jcarousel("items").eq(e.index())}(o,t);o&&o.on("jcarouselcontrol:active",(function(){a.jcarousel("scrollIntoView",this),-1!=i&&logBhrighuForImage(o.attr("data-imgid"),o.attr("data-imgcat"),o.attr("data-imgtype")),i=o.index(),o.addClass("active")})).on("jcarouselcontrol:inactive",(function(){o.removeClass("active")})).jcarouselControl({target:n,carousel:t})})),e(".prev-stage").on("jcarouselcontrol:inactive",(function(){e(this).addClass("inactive")})).on("jcarouselcontrol:active",(function(){e(this).removeClass("inactive")})).jcarouselControl({target:"-=1"}),e(".next-stage").on("jcarouselcontrol:inactive",(function(){e(this).addClass("inactive")})).on("jcarouselcontrol:active",(function(){e(this).removeClass("inactive")})).jcarouselControl({target:"+=1"}),e(".prev-navigation").on("jcarouselcontrol:inactive",(function(){e(this).addClass("inactive")})).on("jcarouselcontrol:active",(function(){e(this).removeClass("inactive")})).jcarouselControl({target:"-=4"}),e(".next-navigation").on("jcarouselcontrol:inactive",(function(){e(this).addClass("inactive")})).on("jcarouselcontrol:active",(function(){e(this).removeClass("inactive")})).jcarouselControl({target:"+=4"}),e(".carousel-navigation, .carousel-stage").on("jcarousel:visiblein","li",(function(t,a){e(this).find("img.lazy").trigger("imgLazyLoad")}))}))}(jQuery)})),docReady((function(){applyLazyLoad(),$(".chosen-select").chosen(),(selectDropdownBox=$(".select-box-no-input")).each((function(){var e=$(this).find(".chosen-select").attr("data-title");$(this).find(".chosen-search").empty().append('<p class="no-input-label">'+e+"</p>")})),$(".carousel-navigation ul li").slice(0,5).find("img.lazy").trigger("imgLazyLoad"),$(".carousel-stage ul li").slice(0,3).find("img.lazy").trigger("imgLazyLoad"),document.location.href.split("?")[0],$("#getMoreDetailsBtn").length>0&&dataLayer.push({event:"Bikewale_all",cat:"Model_Page",act:"Get_More_Details_Shown",lab:bikeVersionLocation}),$("#btnGetOnRoadPrice").length>0&&dataLayer.push({event:"Bikewale_noninteraction",cat:"Model_Page",act:"Get_On_Road_Price_Button_Shown",lab:myBikeName+"_"+getBikeVersion()}),$("#getOffersPrimary").length>0&&dataLayer.push({event:"Bikewale_noninteraction",cat:"Model_Page",act:"Get_Offers_Button_Shown",lab:bikeVersionLocation}),$("#getassistance").length>0&&dataLayer.push({event:"Bikewale_noninteraction",cat:"Model_Page",act:"Get_Offers_Shown",lab:bikeVersionLocation}),$("#modelExpertReviewsContent").length>0&&dataLayer.push({event:"Bikewale_noninteraction",cat:"Model_Page",act:"Expert_Review_CardShown",lab:myBikeName}),$window=$(window),overallTabsWrapper=$("#overallTabsWrapper"),overallTabs=$("#overallSpecsTab"),overallSpecsDetailsFooter=$("#overallSpecsDetailsFooter"),topNavBar=overallTabs,overallTabs.find("span").first().addClass("active"),$(window).scroll((function(){try{var e=$window.scrollTop(),t=overallTabsWrapper.offset().top,a=overallSpecsDetailsFooter.offset().top;e>t?overallTabs.addClass("fixed-tab-nav"):e<t&&overallTabs.removeClass("fixed-tab-nav"),e>a-floatingTabsHeight&&overallTabs.removeClass("fixed-tab-nav"),$("#modelDetailsContainer .bw-model-tabs-data").each((function(){var t=$(this).offset().top-topNavBar.height(),a=t+$(this).outerHeight();if(e>=t&&e<=a&&!$(this).hasClass("active")){topNavBar.find("span").removeClass("active"),$("#modelDetailsContainer .bw-model-tabs-data").removeClass("active"),$(this).addClass("active"),topNavBar.find('span[data-href="#'+$(this).attr("data-id")+'"]').addClass("active");var i=topNavBar.find('span[data-tablink="#'+$(this).attr("data-id")+'"]');void 0!==i&&i.addClass("active")}}))}catch(e){}})),$('.overall-specs-tabs-wrapper a[href^="#"]').click((function(){var e=$(this.hash);return 0==e.length&&(e=$('a[name="'+this.hash.substr(1)+'"]')),0==e.length&&(e=$("html")),$("html, body").animate({scrollTop:e.offset().top-topNavBar.height()+1},1e3),!1}));var e=window.location.hash;e&&null!=$(e).offset()&&$("html, body").scrollTop($(e).offset().top-650);var t=$("#modelAlternateBikeContent"),a=$("#makeDealersContent");0!=t.length&&t.removeClass("bw-model-tabs-data"),0!=a.length&&a.removeClass("bw-model-tabs-data"),$("#imageCarousel .stage li").click((function(){dataLayer.push({event:"Bikewale_all",cat:"Model_Page",act:"Photo_Clicked",lab:myBikeName})})),$("a.read-more-btn").click((function(){if($(this).hasClass("open")){if($(this).hasClass("open")){var e;$(".model-about-main").show(),$(".model-about-more-desc").hide(),(e=$(this).find("span")).text("full story"===e.text()?"less":"full story"),$(this).removeClass("open")}}else $(".model-about-main").hide(),$(".model-about-more-desc").show(),(e=$(this).find("span")).text("full story"===e.text()?"less":"full story"),$(this).addClass("open")})),$("#getOnRoadPriceBtn, .city-area-edit-btn").on("click",(function(){$("#onRoadPricePopup").show(),$(".blackOut-window").show()})),$(".onroadPriceCloseBtn").on("click",(function(){$("#onRoadPricePopup").hide(),$(".blackOut-window").hide()})),onroadPriceConfirmBtn.on("click",(function(){$("#modelPriceContainer .default-showroom-text").hide().siblings("#getOnRoadPriceBtn").hide(),$("#modelPriceContainer .onroad-price-text").show().next("div.modelPriceContainer").find("span.viewBreakupText").show().next("span.showroom-text").show(),$("#onRoadPricePopup").hide(),$(".blackOut-window").hide()})),$(".viewMoreOffersBtn").on("click",(function(){$(this).hide(),$("ul.moreOffersList").slideToggle()}));new DropdownMenu("#ddlNewVersionList",{onChange:function(e){var t=e.activeOption.value;$("#hdnVariant").val(t),dataLayer.push({event:"Bikewale_all",cat:"Model_Page",act:"Version_Change",lab:""}),window.location.href=$(e.container).data("pageurl")+"?versionId="+t}}),new DropdownMenu("#modelSpecsFeaturesContent",{onChange:function(e){var t=e.activeOption.value;$.ajax({type:"GET",url:"/specsandfeatures/?versionId="+t+"&iselectricbikes="+isElectricBike+"&modelid="+bikeModelId,dataType:"html",success:function(t){null!=t&&function(e,t){document.getElementById("modelSpecsFeaturesContent").classList.remove("dropdown-box--active"),document.querySelector("#modelSpecsFeaturesContent #defversion").innerHTML=t,document.getElementById("specsFeaturesList").innerHTML=e;var a=document.querySelector(".view-features-link");a.classList.remove("active"),a.innerHTML="View More Features",BindAccordianTabsInSpecsFeatures(),BindViewAllFeaturesBtnClickEvent(),renderMileageTooltip()}(t,e.activeOption.element[0].dataset.versionname)},error:function(e,t,a){console.error("Something went wrong while refreshing specs and features")}})}});if($("#ddlVersion").on("change",(function(){$("#hdnVariant").val($(this).val()),dataLayer.push({event:"Bikewale_all",cat:"Model_Page",act:"Version_Change",lab:bikeVersionLocation}),window.location.href=$(this).data("pageurl")+"?versionId="+$(this).val()})),$("#getMoreDetailsBtn, #getMoreDetailsBtnCampaign, #getassistance, #getOffersFromDealerFloating").on("click",(function(){leadSourceId=$(this).attr("leadSourceId"),$("#leadCapturePopup").show(),popup.lock(),"getassistance"==$(this).attr("id")?(dataLayer.push({event:"Bikewale_all",cat:"Model_Page",act:"Get_Offers_Clicked",lab:bikeVersionLocation}),getOffersClick=!0):"24"!=leadSourceId&&dataLayer.push({event:"Bikewale_all",cat:"Model_Page",act:"Get_More_Details_Clicked",lab:bikeVersionLocation})})),$("#viewBreakupText").on("click",(function(e){triggerGA("Model_Page","View_Detailed_Price_Clicked",bikeVersionLocation)})),$("#getdealerdetails").on("click",(function(e){triggerGA("Model_Page","View_Dealer_Details_Clicked",bikeVersionLocation);var t="CityId="+cityId+"&AreaId="+areaId+"&PQId="+pqId+"&VersionId="+versionId+"&DealerId="+dealerId+"&IsDealerAvailable=true";window.location.href="/pricequote/dealer/?MPQ="+Base64.encode(t)})),$(".breakupCloseBtn,.blackOut-window").on("click",(function(e){$("div#breakupPopUpContainer").hide(),$(".blackOut-window").hide()})),$(".termsPopUpCloseBtn,.blackOut-window").on("click",(function(e){$("div#termsPopUpContainer").hide(),$(".blackOut-window").hide()})),$(document).on("keydown",(function(e){27===e.keyCode&&($("div.breakupCloseBtn").click(),$("div.termsPopUpCloseBtn").click(),$("div.leadCapture-close-btn").click())})),$("#insuranceLink").on("click",(function(e){dataLayer.push({event:"Bikewale_all",cat:"Model_Page",act:"Insurance_Clicked_Model",lab:myBikeName+"_"+icityArea})})),$("#bookNowBtn").on("click",(function(e){dataLayer.push({event:"Bikewale_all",cat:"Model_Page",act:"Book_Now_Clicked",lab:bikeVersionLocation}),window.location.href="/pricequote/bookingsummary_new.aspx"})),$(".more-features-btn").click((function(){$(".more-features").slideToggle();var e=$(this).find("a");e.text("+"===e.text()?"-":"+"),"+"===e.text()?e.attr("href","#features"):e.attr("href","javascript:void(0)")})),$("#btnGetOnRoadPrice").on("click",(function(e){dataLayer.push({event:"Bikewale_all",cat:"Model_Page",act:"Check_On_Road_Price_Clicked",lab:myBikeName+"_"+getBikeVersion()})})),$("#btnDealerPricePopup").on("click",(function(){dataLayer.push({event:"Bikewale_all",cat:"Model_Page",act:"Show_On_Road_Price_Clicked",lab:myBikeName+"_"+getBikeVersion()+"_"+getCityArea})})),$("#getdealerdetails").on("click",(function(){dataLayer.push({event:"Bikewale_all",cat:"Model_Page",act:"View_Dealer_Details_Clicked",lab:myBikeName+"_"+getBikeVersion()+"_"+getCityArea})})),$("#getOffersPrimary").on("click",(function(){dataLayer.push({event:"Bikewale_all",cat:"Model_Page",act:"Get_Offers_Button_Clicked",lab:myBikeName+"_"+getBikeVersion()+"_"+getCityArea})})),$(".tnc").on("click",(function(e){LoadTerms($(this).attr("id"))})),$(".changeCity").on("click",(function(e){try{dataLayer.push({event:"Bikewale_all",cat:"Model_Page",act:"City_Change_Initiated",lab:bikeVersionLocation})}catch(e){}})),$("#locslug").on("click",(function(e){triggerGA("Model_Page","Booking_Benefits_City_Link_Clicked",myBikeName+"_"+getBikeVersion())})),$(".more-dealers-link").on("click",(function(){$(this).parent().prev("#moreDealersList").slideDown(),$(this).hide().next(".less-dealers-link").show()})),$(".less-dealers-link").on("click",(function(){$(this).parent().prev("#moreDealersList").slideUp(),$(this).hide().prev(".more-dealers-link").show()})),$("#read-more-preview").click((function(){$(this).hasClass("open")?$(this).hasClass("open")&&($("#main-preview-content").show(),$("#more-preview-content").hide(),$(this).text("Read more"),$(this).removeClass("open"),$("html, body").animate({scrollTop:$("#modelAboutContent").offset().top-floatingTabsHeight},500)):($("#main-preview-content").hide(),$("#more-preview-content").show(),$(this).text("Collapse"),$(this).addClass("open"))})),BindAccordianTabsInSpecsFeatures(),BindViewAllFeaturesBtnClickEvent(),$(".navigation").on("click",".all-photos-target",(function(){var e=$(this).find("a").attr("href");window.location=e})),$("#partner-dealer-panel").on("click",(function(){var e=$(this);e.hasClass("open")?(e.removeClass("open"),e.siblings("#moreDealersList").slideUp()):(e.addClass("open"),e.siblings("#moreDealersList").slideDown())})),$(".bw-tooltip").on("click",".close-bw-tooltip",(function(){var e=$(this).closest(".bw-tooltip");e.hasClass("slideUp-tooltip")?e.slideUp():e.fadeOut()})),applyLikeDislikes(),$("#report-background, .report-abuse-close-btn").on("click",(function(){reportAbusePopup.close()})),document.getElementById("modelsBySeriesWidget"))try{var i=$("#modelsBySeriesWidget");triggerNonInteractiveGA(i.attr("data-cat"),i.attr("data-act"),i.attr("data-lab"))}catch(e){}$("#modelExpertReviewsContent").on("click",(function(){triggerGA("Model_Page","Expert_Review_CardClicked",myBikeName)})),"undefined"!=typeof pageData&&null!=pageData&&recentSearches.saveRecentSearches(pageData),ToggleReadMore.registerEvents()}));var reportAbusePopup={popupElement:$("#report-abuse"),bgContainer:$("#report-background"),open:function(){reportAbusePopup.popupElement.show(),popup.lock(),$(".blackOut-window").hide(),reportAbusePopup.bgContainer.show()},close:function(){reportAbusePopup.popupElement.hide(),popup.unlock(),reportAbusePopup.bgContainer.hide()}};ko.bindingHandlers.truncatedText={update:function(e,t,a){if(ko.utils.unwrapObservable(t())){var i=ko.utils.unwrapObservable(t()),o=parseInt(e.getAttribute("data-trimlength"))||20,n=i.length>o?i.substring(0,o)+"...":i;ko.bindingHandlers.text.update(e,(function(){return n}))}}},ko.bindingHandlers.formattedVotes={update:function(e,t){try{var a=t(),i=(a/1e3).toString().match(/\d+[.]+\d/);if(a%1e3==0&&a>0)var o=a/1e3+".0k";else o=ko.unwrap(a)>999&&i?i[0]+"k":a;$(e).text(o)}catch(e){console.warn(e)}}},$(document).on("click",".read-more-target",(function(e){vmUserReviews.IsInitialized()||vmUserReviews.init(e)}));var modelUserReviews=function(){var e=this;e.reviewList=ko.observableArray(null),e.currentReviewList=ko.observableArray(null),e.trimLengthText=ko.observable(),e.isLoading=ko.observable(!1),e.IsInitialized=ko.observable(!1),e.logBhrighuData=function(e,t){return logBhrighu($(e.currentTarget).data("index"),t),!0},e.readMoreNew=function(e){var t=$(e.currentTarget);return updateView(t.data("reviewid")),logBhrighu(t.data("index"),"ReadMoreClick"),!0},e.init=function(t){$("#user-review-div")[0]&&ko.applyBindings(vmUserReviews,$("#user-review-div")[0]),e.readMore(t),e.IsInitialized(!0),$("#loader").removeClass("hide")},e.readMore=function(t){var a=$(t.currentTarget),i=a.data("reviewid"),o=a.data("id");if(!e.currentReviewList().length&&bikeModelId){if(cityId>0)var n="/api/user-reviews/search/V2/?InputFilter.review=true&InputFilter.SO=8&InputFilter.PN=1&InputFilter.PS=3&ReviewFilter.RatingQuestion=false&ReviewFilter.ReviewQuestion=true&ReviewFilter.BasicDetails=false&InputFilter.Model="+bikeModelId+"&InputFilter.CityId="+cityId;else n="/api/user-reviews/search/V2/?InputFilter.review=true&InputFilter.SO=1&InputFilter.PN=1&InputFilter.PS=3&ReviewFilter.RatingQuestion=false&ReviewFilter.ReviewQuestion=true&ReviewFilter.BasicDetails=false&InputFilter.Model="+bikeModelId;$("#userReviewSpinner").show(),$.getJSON(n).done((function(t){t&&t.result&&e.currentReviewList(t.result)})).always((function(){$("#userReviewSpinner").hide()}))}return updateView(i),logBhrighu(o,"ReadMoreClick"),$("#user-review-div")&&$("#user-review-div").attr("data-readmore")&&$("#user-review-div").attr("data-readmore",parseInt($("#user-review-div").attr("data-readmore"))+1),!0}};function logBhrighu(e,t){label="modelId="+bikeModelId+"|tabName=recent|reviewOrder="+ ++e+"|pageSource="+$("#pageSource").val(),cwTracking.trackUserReview(t,label)}function updateView(e){try{e&&$.post("/api/user-reviews/updateView/"+e+"/")}catch(e){console.log(e)}}$(".navtab").click((function(){try{var e=$(this).data("href");$("html,body").animate({scrollTop:$(e).offset().top-40},"slow")}catch(e){console.log(e)}})),ReadMoreSet.registerMultipleReadmoreCustomEvents("js-readmore-container-multiple","js-readmore-container-multiple-wrapper",44),window.addEventListener("load",(function(){if(window.location&&window.location.hash&&"#modelPricesContent"===window.location.hash){var e=document.querySelector("#pricesContent"),t=document.getElementById("modelPageLoader");void 0!==e?setTimeout((function(){window.scrollBy(0,e.getBoundingClientRect().top-42),t.classList.add("hide")}),600):t.classList.remove("hide")}}));