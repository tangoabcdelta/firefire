var verificationType={mobile:1,email:2},verificationStatus={ok:1,invalidData:2,invalidCode:3},SourceModule={newBikeLeads:10},Application={Carwale:1,Bikewale:2},PlatForm={UnknownPlatformId:0,Desktop:1,Mobile:2,Android:3,Ios:4},_defaultOtpLength=4,_defaultVerificationType=verificationType.mobile,_defaultValidity=30;const isDefined=i=>void 0!==i;class UserVerification{constructor(i){this.mobile=i.mobile,this.sourceModule=i.sourceModule,this.applicationId=i.applicationId,this.platformId=i.platformId,this.deviceId=i.deviceId,this.verificationType=isDefined(i.verificationType)?i.verificationType:_defaultVerificationType,this.otpLength=isDefined(i.otpLength)?i.otpLength:_defaultOtpLength,this.validityInMinutes=isDefined(i.validityInMinutes)?i.validityInMinutes:_defaultValidity}set changeMobileNumber(i){this.mobile=i}checkIfUserVerified(){var i=this.mobile,e=this.deviceId,t=this.sourceModule;return new Promise((function(o,n){fetch(`${cwapiHostUrl}/api/mobile/verification-status/?mobilenumber=${i}&deviceId=${e}&sourcemodule=${t}`,{method:"GET",headers:{"Content-type":"application/json"}}).then(i=>o(i.json())).catch(i=>{n(i)})}))}initiateOtpVerification(){var i={VerificationType:this.verificationType,VerificationValue:this.mobile,otpLength:this.otpLength,sourceModule:this.sourceModule,validityInMinutes:this.validityInMinutes,applicationId:this.applicationId,platformId:this.platformId,deviceId:this.deviceId};return new Promise((function(e,t){fetch(`${cwapiHostUrl}/api/otp/generate/`,{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(i)}).then(i=>e(i.json())).catch(i=>{t(i)})}))}initiateMissedCallVerification(){var i={VerificationValue:this.mobile,otpLength:this.otpLength,sourceModule:this.sourceModule,validityInMinutes:this.validityInMinutes,applicationId:this.applicationId,platformId:this.platformId,deviceId:this.deviceId};return new Promise((function(e,t){fetch(`${cwapiHostUrl}/api/missedcall-verification/generate/`,{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(i)}).then(i=>e(i.json())).catch(i=>{t(i)})}))}verifyOtp(i){var e=this.verificationType,t=this.mobile,o=this.sourceModule;return new Promise((function(n,a){fetch(`${cwapiHostUrl}/api/otp/verify/?verificationType=${e}&verificationvalue=${t}&otpcode=${i}&sourcemodule=${o}`,{method:"GET",async:!1,headers:{"Content-type":"application/json"}}).then(i=>n(i.json())).catch(i=>{a(i)})}))}}